let rowData=document.querySelector("#rowData"),sourceBtn=document.querySelector("#sourceBtn"),youtubeBtn=document.querySelector("#youtubeBtn"),search=document.querySelector("#search"),searchForm=document.querySelector("#searchForm"),searchName=document.querySelector("#searchName"),searchFL=document.querySelector("#searchFL"),category=document.querySelector("#category"),area=document.querySelector("#area"),ingredients=document.querySelector("#ingredients"),contactUs=document.querySelector("#contactUs"),submitBtn=document.querySelector("#submitBtn"),nameInput=document.querySelector("#nameInput"),emailInput=document.querySelector("#emailInput"),phoneInput=document.querySelector("#phoneInput"),ageInput=document.querySelector("#ageInput"),passwordInput=document.querySelector("#passwordInput"),repasswordInput=document.querySelector("#repasswordInput"),contact=document.querySelector("#contact");$(document).ready(function(){$(".loader").fadeOut(500),$("body").css("overflow","auto")});let sideBarPosition=$("#sideBarMenu").innerWidth();function openSideBar(){$("#sideBar").animate({left:"0px"},500),$("#links").show(1e3),$("#sideBarIcon").removeClass("fa-align-justify"),$("#sideBarIcon").addClass("fa-x")}function closeSideBar(){$("#sideBar").animate({left:-sideBarPosition},800),$("#links").hide(500),$("#sideBarIcon").addClass("fa-align-justify"),$("#sideBarIcon").removeClass("fa-x")}function displayMeals(e){$("#contact").addClass("d-none");let a="";for(let t=0;t<e.length;t++)a+=` <div class="col-md-3">
        <div onclick="getMealDetails('${e[t].idMeal}')" class="meal rounded-2 position-relative overflow-hidden">
            <img class="w-100" src="${e[t].strMealThumb}" alt="">
            <div class="meal-layer position-absolute d-flex align-items-center text-black p-2">
                <h3>${e[t].strMeal}</h3>
            </div>
        </div>
       </div> `;rowData.innerHTML=a}async function getMeals(){rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");displayMeals((await (await fetch("https://www.themealdb.com/api/json/v1/1/search.php?s=")).json()).meals)}async function getMealDetails(e){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");displayMealDetails((finalRes=await (await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${e}`)).json()).meals[0]),$(".loader").fadeOut(300)}function displayMealDetails(e){rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let a="";for(let t=1;t<=20;t++)e[`strIngredient${t}`]&&(a+=`<li class="alert alert-info m-2 p-1">${e[`strMeasure${t}`]} ${e[`strIngredient${t}`]}</li>`);let s=e.strTags?.split(",");s||(s=[]);let n="";for(let r=0;r<s.length;r++)n+=`
        <li class="alert alert-danger m-2 p-1">${s[r]}</li>`;cartona=` <div class="col-md-4 text-white">
    <img class="rounded-2 w-100" src="${e.strMealThumb}" alt="">
    <h2>${e.strMeal}</h2>
     </div>
     <div class="col-md-8 text-white">
    <h1>Instructions</h1>
    <p>${e.strInstructions}</p>
    <div class="data mb-5">
       <table class="fw-5">
        <tr>
            <td><h3>Area :${e.strArea}</h3> </td>
        </tr>
        <tr>
            <td><h3>Category :${e.strCategory} </h3></td>  
        <tr>
            <td><h3>Recipes :</h3>
                <ul class="list-unstyled d-flex g-3 flex-wrap">
                   ${a}

                </ul>
            </td>
           
        </tr>
        <tr>
            <td><h3>Tags :</h3>
                <ul class="list-unstyled d-flex g-3 flex-wrap">
                ${n}
                </ul>
            </td>
           
        </tr>
       </table>
    </div>
    <div class="btns">
        <a target="_blank" href="${e.strSource}" class="text-decoration-none">
            <button id="sourceBtn" class="btn btn-success">Source</button>
        </a>
        <a target="_blank" href="${e.strYoutube}" class="text-decoration-none">
            <button id="youtubeBtn" class="btn btn-danger">Youtube</button>
        </a>

    </div>
</div>`,rowData.innerHTML=cartona}function showSearchName(){$(".loader").fadeIn(300),rowData.innerHTML="",$("#contact").addClass("d-none"),searchForm.innerHTML=`<div class="row py-5">
    <div class="col-md-6">
    <div class="form-group">
        <input type="text" oninput="getSearchByName(this.value)" class="form-control" id="searchName" name="searchName" placeholder="Search By Name">
    </div>
    </div>
    <div class="col-md-6">
    <div class="form-group bg-black">
     <input type="text" oninput="getSearchByFirstLetter(this.value)" class="form-control mb-3" maxlength="1" id="searchFL" name="searchFL" placeholder="Search By First Letter">
     </div>
    </div>
    </div>`,rowData.innerHTML="",$(".loader").fadeOut(300)}async function getSearchByName(e){$(".loader").fadeIn(300),closeSideBar(),rowData.innerHTML="",$("#contact").addClass("d-none");let a=await (await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${e}`)).json();a.meals?displayMeals(a.meals):displayMeals([]),$(".loader").fadeOut(300)}async function getSearchByFirstLetter(e){$(".loader").fadeIn(300),rowData.innerHTML="",$("#contact").addClass("d-none"),closeSideBar(),rowData.innerHTML="";let a=await (await fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${e}`)).json();a.meals?displayMeals(a.meals):displayMeals([]),$(".loader").fadeOut(300)}async function getCategories(){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let e=await (await fetch("https://www.themealdb.com/api/json/v1/1/categories.php")).json();console.log(e.categories),displayCategories(e.categories),$(".loader").fadeOut(300)}function displayCategories(e){rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let a="";for(let t=0;t<e.length;t++)a+=` <div class="col-md-3">
            <div onclick="getCategoryMeals('${e[t].strCategory}')" class="meal rounded-2 position-relative overflow-hidden">
                <img class="w-100" src="${e[t].strCategoryThumb}" alt="">
                <div class="meal-layer position-absolute text-center px-3">
                    <h3>${e[t].strCategory}</h3>
                    <p>${e[t].strCategoryDescription.split(" ").slice(0,20).join(" ")}</p>
                </div>
            </div>
           </div> `;rowData.innerHTML=a}async function getCategoryMeals(e){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let a=await (await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${e}`)).json();console.log(a.meals),displayMeals(a.meals.slice(0,20)),$(".loader").fadeOut(300)}async function getArea(){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let e=await (await fetch("https://www.themealdb.com/api/json/v1/1/list.php?a=list")).json();console.log(e.meals),displayArea(e.meals),$(".loader").fadeOut(300)}function displayArea(e){rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let a="";for(let t=0;t<e.length;t++)a+=`
            <div class="col-md-3">
                    <div onclick="getAreaMeals('${e[t].strArea}')" class="rounded-2 text-white text-center cursor-pointer">
                            <i class="fa-solid fa-house-laptop fa-4x"></i>
                            <h3>${e[t].strArea}</h3>
                    </div>
            </div>
            `;rowData.innerHTML=a}async function getAreaMeals(e){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");displayMeals((await (await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?a=${e}`)).json()).meals.slice(0,20)),$(".loader").fadeOut(300)}async function getIngredients(){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let e=await (await fetch("https://www.themealdb.com/api/json/v1/1/list.php?i=list")).json();console.log(e.meals),displayIngredients(e.meals.slice(0,20)),$(".loader").fadeOut(300)}function displayIngredients(e){rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");let a="";for(let t=0;t<e.length;t++)a+=`
            <div class="col-md-3">
                    <div onclick="getIngredientsMeals('${e[t].strIngredient}')" class="rounded-2 text-white text-center cursor-pointer">
                            <i class="fa-solid fa-drumstick-bite fa-4x"></i>
                            <h3>${e[t].strIngredient}</h3>
                            <p>${e[t].strDescription.split(" ").slice(0,20).join(" ")}</p>
                    </div>
            </div>
            `;rowData.innerHTML=a}async function getIngredientsMeals(e){$(".loader").fadeIn(300),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").addClass("d-none");displayMeals((await (await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?i=${e}`)).json()).meals.slice(0,20)),$(".loader").fadeOut(300)}function validationInputs(){validateName()&&validateEmail()&&validatePhone()&&validateAge()&&validatePassword()&&validateRePassword()?submitBtn.removeAttribute("disabled"):submitBtn.setAttribute("disabled")}function validateName(){return!0==/^\w{1,50}$/.test(nameInput.value)?(document.getElementById("nameAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("nameAlert").classList.replace("d-none","d-block"),!1)}function validateEmail(){return!0==/^\w{10,100}\@yyy\.zzz$/.test(emailInput.value)?(document.getElementById("emailAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("emailAlert").classList.replace("d-none","d-block"),!1)}function validatePhone(){return!0==/^(002)?01[1205]\d{8}$/.test(phoneInput.value)?(document.getElementById("phoneAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("phoneAlert").classList.replace("d-none","d-block"),!1)}function validateAge(){return!0==/^([1-9]|[1-9][0-9])$/.test(ageInput.value)?(document.getElementById("ageAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("ageAlert").classList.replace("d-none","d-block"),!1)}function validatePassword(){return!0==/^[A-Za-z0-9]{8,}$/.test(passwordInput.value)?(document.getElementById("passwordAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("passwordAlert").classList.replace("d-none","d-block"),!1)}function validateRePassword(){return repasswordInput.value==passwordInput.value?(document.getElementById("repasswordAlert").classList.replace("d-block","d-none"),!0):(document.getElementById("repasswordAlert").classList.replace("d-none","d-block"),!1)}$("#sideBar").animate({left:-sideBarPosition},500),$("#sideBarIcon").addClass("fa-align-justify"),$("#sideBarIcon").removeClass("fa-x"),$("#links").hide(350),$("#sideBarIcon").click(function(){"0px"==$("#sideBar").css("left")?closeSideBar():openSideBar()}),getMeals(),search.addEventListener("click",function(){closeSideBar(),showSearchName()}),category.addEventListener("click",function(){closeSideBar(),getCategories()}),area.addEventListener("click",function(){closeSideBar(),getArea()}),ingredients.addEventListener("click",function(){closeSideBar(),getIngredients()}),contactUs.addEventListener("click",function(){closeSideBar(),$(".loader").fadeIn(100),rowData.innerHTML="",searchForm.innerHTML="",$("#contact").removeClass("d-none"),$(".loader").fadeOut(100)});